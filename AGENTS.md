üîß Codex Prompt: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤ –∏ SSL
–°–æ–∑–¥–∞–π Telegram-–±–æ—Ç–∞ –Ω–∞ Python, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

‚úÖ Uptime Monitoring
–¶–µ–ª—å: —Å–ª–µ–¥–∏—Ç—å –∑–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —Å–∞–π—Ç–æ–≤ –∏ –æ–ø–æ–≤–µ—â–∞—Ç—å –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏—è—Ö/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è—Ö.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤ –∏–∑ –±–∞–∑—ã —Ä–∞–∑ –≤ 3 –º–∏–Ω—É—Ç—ã.

–ï—Å–ª–∏ –¥–≤–∞ —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥ —Å–∞–π—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (—Ç–æ –µ—Å—Ç—å, –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –±–æ–ª–µ–µ 3 –º–∏–Ω—É—Ç) ‚Äî —Å—á–∏—Ç–∞–µ—Ç—Å—è DOWN.

–ü—Ä–∏ —ç—Ç–æ–º –±–æ—Ç:

—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –ø–∞–¥–µ–Ω–∏—è (down_since)

–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –≤ Telegram:
üî¥ example.com DOWN (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å HH:MM UTC)

–ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –±–æ–ª–µ–µ 1 —á–∞—Å–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ —Å–∞–π—Ç –≤—Å—ë –µ—â—ë DOWN ‚Äî –±–æ—Ç –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ.

–ï—Å–ª–∏ —Å–∞–π—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–Ω–æ–≤–∞ –û–ö) ‚Äî –±–æ—Ç:

—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç down_since

–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram:
üü¢ example.com OK (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ HH:MM UTC)

üß™ –ö–æ–º–∞–Ω–¥–∞ /status
–ü–æ –∫–æ–º–∞–Ω–¥–µ /status:

–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤

–≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –≤ Telegram —Å —Ç–µ–∫—É—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
‚úÖ example.com ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
üî¥ badsite.net ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç 2 –¥–Ω. 4 —á. 18 –º–∏–Ω.
–µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω DOWN, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ.

üîê SSL Monitoring
–¶–µ–ª—å: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å, –µ—Å–ª–∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–∫–æ—Ä–æ –∏—Å—Ç–µ—á—ë—Ç.

–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00 –ø–æ –ú–æ—Å–∫–≤–µ (Europe/Moscow) –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ä–æ–∫ SSL —É –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤.

–ï—Å–ª–∏ –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è SSL –æ—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω—å—à–µ 7 –¥–Ω–µ–π ‚Äî –±–æ—Ç:

—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç ssl_expires

–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram:
‚ö†Ô∏è example.com ‚Äî SSL –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 5 –¥–Ω–µ–π (–¥–æ DATE)

–ü–æ–≤—Ç–æ—Ä—è–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ —Ä–∞–∑ –≤ —á–∞—Å, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

üß™ –ö–æ–º–∞–Ω–¥–∞ /ssl
–ü–æ –∫–æ–º–∞–Ω–¥–µ /ssl:

–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è SSL-–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤

Telegram-–≤—ã–≤–æ–¥ –≤ –≤–∏–¥–µ:

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
‚úÖ example.com ‚Äî 58 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
‚ö†Ô∏è badsite.net ‚Äî 3 –¥–Ω—è –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ URL-–∞–º–∏ —á–µ—Ä–µ–∑ Telegram
/list ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö URL –≤ –±–∞–∑–µ

/add <URL> ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∞–π—Ç:

—Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

–¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –±–∞–∑—É

–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram:
‚úÖ example.com –¥–æ–±–∞–≤–ª–µ–Ω ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏
‚ùå example.com –¥–æ–±–∞–≤–ª–µ–Ω ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

/remove <URL> ‚Äî —É–¥–∞–ª—è–µ—Ç —Å–∞–π—Ç –∏–∑ –±–∞–∑—ã

üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ (SQLite)
–í—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ monitor.db. –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

–¢–∞–±–ª–∏—Ü–∞ urls
| url (TEXT, PRIMARY KEY) |

–¢–∞–±–ª–∏—Ü–∞ status
| url | down_since | last_alert_sent |

–¢–∞–±–ª–∏—Ü–∞ ssl
| url | ssl_expires (DATE) | ssl_last_alert_sent |

üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
Python 3.x

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

python-telegram-bot

apscheduler

requests, ssl, socket, sqlite3, datetime, dotenv

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env:

BOT_TOKEN=...

CHAT_ID=...

–í–∞–∂–Ω–æ:

–õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ–ø–æ–≤–µ—â–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å last_alert_sent.

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/SSL –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è (try/except).

–£—á–∏—Ç—ã–≤–∞–π —Ç–∞–π–º–∑–æ–Ω—É Europe/Moscow –ø—Ä–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ SSL.

–ì–µ–Ω–µ—Ä–∏—Ä—É–π –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –∫–∞–∫ –µ–¥–∏–Ω—ã–π Python-—Å–∫—Ä–∏–ø—Ç (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).


