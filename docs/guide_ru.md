# Руководство

Телеграм-бот для мониторинга сайтов и проверки SSL. Работает в Docker и сохраняет данные в SQLite.

## Структура

- `bot.py` — команды и запуск
- `core.py` — проверки и работа с БД
- `Dockerfile` и `docker-compose.yml` — контейнеры
- `start.sh` — вспомогательный скрипт

## Запуск через Docker

1. Скопируйте `.env.example` в `.env` и укажите `BOT_TOKEN`, `CHAT_ID`, `ADMIN_IDS` и `OWNER_ID`.
2. Запустите:

```bash
docker compose up --build -d
```

База данных создастся автоматически. Переменные `DB_FILE`, `LOG_FILE` и `REQUEST_TIMEOUT` позволяют настроить пути и таймауты.

## Запуск без Docker

```bash
pip install -r requirements.txt
python bot.py
```

## Переменные окружения

- `BOT_TOKEN`, `CHAT_ID` — обязательны
- `ADMIN_IDS` — список админов
- `OWNER_ID` — может управлять админами
- `DB_FILE` — путь к базе
- `LOG_FILE` — файл логов
- `REQUEST_TIMEOUT` — таймаут запросов

## Команды

- `/add <url>` — добавить сайт
- `/rem <url>` — удалить сайт
- `/status` — статус сайтов
- `/checkssl` — проверить SSL
- `/list` — список сайтов
- `/add_admin <id>` — выдать права
- `/rm_admin <id>` — отозвать права
- `/help` — справка

## Фоновые задачи

Бот каждую минуту опрашивает сайты и раз в день проверяет SSL. При сбоях отправляет уведомления и пишет события в базу и лог-файл.

## Расширение

Код прост, поэтому вы можете легко добавить новые проверки или интеграции. Изменяйте функции в `core.py` и регистрируйте команды в `bot.py`.

**Версия: 1.1**
